
= Resource configuration

== Volume storage

By default, a NiFi cluster will create five different persistent volume claims for flow files, provenance, database, content and state folders.
The example below shows how to configure the sizes of the individual volumes.
The volume sizes are the defaults used by the Operator.

Storage requests can be configured at role or group level, for one or more of the persistent volumes as follows:

[source,yaml]
----
nodes:
  roleGroups:
    default:
      config:
        resources:
          storage:
            flowfileRepo:
              capacity: 1024Mi
            provenanceRepo:
              capacity: 2048Mi
            databaseRepo:
              capacity: 1024Mi
            contentRepo:
              capacity: 4096Mi
            stateRepo:
              capacity: 1024Mi
----

== Resource Requests

include::home:concepts:stackable_resource_requests.adoc[]

A minimal HA setup consisting of 2 NiFi instances has the following https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/[resource requirements]:

* `1500m` CPU request
* `5000m` CPU limit
* `8448Mi` memory request and limit
* `18432Mi` persistent storage
